# Neovimプラグイン 要件定義

## 1. 概要

*   **プラグイン名**: AutoFileName.nvim
*   **目的**: Neovimで新しいメモファイルを作成・保存する際に、ユーザーが手動でファイル名を考える手間を省き、日付や内容に基づいた適切なファイル名を自動的に付与して保存すること。

## 2. 機能要件

プラグインが提供すべき具体的な機能を記述します。各機能は番号を振り、簡潔に記述してください。

### 2.1. 主要機能

*   FEAT-001: **ファイル名自動生成機能** - ユーザーが設定可能なフォーマット文字列（例: `os.date('%Y%m%d%H%M%S') .. '_note'`、またはバッファ内容から自動抽出されるプレースホルダー（例: `{{first_line}}`））に基づき、ファイル名を自動生成する。
*   FEAT-002: **自動保存コマンド** - 自動生成されたファイル名で、指定されたディレクトリ（またはデフォルトのメモディレクトリ）に現在のバッファの内容を保存するコマンドを提供する。
*   FEAT-003: **ファイル拡張子設定** - 保存するファイルの拡張子（例: `.md`, `.txt`）を設定可能にする。
*   FEAT-004: **保存ディレクトリ設定** - メモを保存するデフォルトのディレクトリを設定可能にする。

### 2.2. 副次機能 (オプション)

*   OPT-001: 設定ファイルによるカスタマイズをサポートする（自動生成フォーマット、保存ディレクトリ、拡張子など）。

## 3. 非機能要件

プラグインの品質に関する要件を記述します。

### 3.1. 性能要件

*   PERF-001: ファイル名生成と保存は瞬時に行われること。
*   PERF-002: 起動時のオーバーヘッドを最小限に抑える。

### 3.2. ユーザビリティ要件

*   USAB-001: コマンド名は直感的で覚えやすいものにする
*   USAB-002: ヘルプドキュメントを提供する

### 3.3. 互換性要件

*   COMPAT-001: Neovim v0.9.0以降に対応する
*   COMPAT-002: 主要なOS (Linux, macOS, Windows) で動作する

### 3.4. セキュリティ要件 (該当する場合)

*   SEC-001: [例: 外部コマンドの実行は安全な方法で行う]

### 3.5. メンテナンス性要件

*   MAIN-001: コードは読みやすく、コメントが適切に記述されていること
*   MAIN-002: ユニットテストが整備されていること]

## 4. 技術スタック

プラグイン開発に使用する主要な言語、フレームワーク、ライブラリなどを記述します。

*   **言語**: Lua
*   **フレームワーク/ライブラリ**: plenary.nvim

## 5. 想定ユーザー

このプラグインを誰が、どのような状況で利用するかを記述します。

*   Neovimで日常的にメモを取るユーザー
*   ファイル名を考えることに時間をかけたくないユーザー

## 6. スコープ外の機能

このプラグインでは実現しない、または将来的に検討する機能などを記述します。

*   ファイル名の衝突解決（例: 同一秒での保存時）はシンプルな連番付与に限定し、高度な解決策は初期段階では提供しない。
*   AIによるファイル名提案機能 - バッファの内容やディレクトリ構成に基づいてAIが適切なファイル名を提案する機能は、初期リリース版のスコープ外とする（将来的な検討項目）。
*   **インタラクティブなファイル名要素入力機能** - フォーマット文字列内の正規表現パターン（例: `.*`, `[1-9]`, `(apple|banana)`）に基づいて、ユーザーにファイル名の一部を対話的に入力・選択させる機能は、初期リリース版のスコープ外とする（将来的な検討項目）。

## 7. 備考

その他、特記事項や補足など。
*   [ここに記述]
